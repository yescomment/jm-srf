---
---

<script src="https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"></script>
<div class="container">
  <section data-bgcolor="#bcb8ad" data-textcolor="#032f35">
    <div>
      <h1><span>Horizontal</span> <span>scroll</span> <span>section</span></h1>
      <p>With CSS view-timeline</p>
    </div>
  </section>

  <section id="sectionPin">
    <div class="pin-wrap-sticky">
      <div class="pin-wrap">
        <slot/>
      </div>
    </div>
  </section>

  <section data-bgcolor="#e3857a" data-textcolor="#f1dba7"><img src="../shared/pexels-photo-4791474.jpeg" alt="">
    <h2 class="credit">
      Created by <a href="https://twitter.com/bramus" target="_top" rel="noreferrer noopener">Bramus</a>.<br><br>Adapted from <a href="https://codepen.io/cameronknight/pen/qBNvrRQ" target="_top">the original by Cameron Knight</a>.</h2>
  </section>
</div>

<style lang="scss" is:global>
  // @supports(animation-timeline: view()) {
    @keyframes move {
      to {
        /* Move horizontally so that right edge is aligned against the viewport */
        transform: translateX(calc(-100% + 100vw));
      }
    }

    #sectionPin {
      /* Stretch it out, so that we create room for the horizontal scroll animation */
      height: 500vh;
      overflow: visible; /* To make position sticky work â€¦ */

      view-timeline-name: --section-pin-tl;
      view-timeline-axis: block;
    }

    .pin-wrap-sticky {
      /* Stick to Top */
      height: 100vh;
      width: 100vw;
      position: sticky;
      top: 0;

      width: 100vw;
      overflow-x: hidden;
    }

    .pin-wrap {
      height: 100vh;
      width: 250vmax;

      display: flex;
      justify-content: flex-start;
      align-items: center;
      padding: 50px 10vw;

      /* Hook animation */
      will-change: transform;
      animation: linear move forwards;

      /* Link animation to view-timeline */
      animation-timeline: --section-pin-tl;
      animation-range: contain 0% contain 100%;
    }

    .pin-wrap > * {
      min-width: 60vmax;
      padding: 0 5vmax;
    }

    .pin-wrap > .slide {
      width: 100vw;
      padding: 1rem;
    }
  // }
  </style>