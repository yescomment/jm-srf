<!-- CSS Scroll Timeline polyfill -->
<script src="https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"></script>

<section id="sectionPin">
  <div class="pin-wrap-sticky">
    <div class="pin-wrap">
      <slot/>
    </div>
</section>

<style lang="scss" is:global>
  // @supports(animation-timeline: view()) {
    @keyframes move {
      to {
        /* Move horizontally so that right edge is aligned against the viewport */
        transform: translateX(calc(-100% + 100vw));
      }
    }

    #sectionPin {
      /* Stretch it out, so that we create room for the horizontal scroll animation */
      height: 500vh;
      overflow: visible; /* To make position sticky work â€¦ */

      view-timeline-name: --section-pin-tl;
      view-timeline-axis: block;
    }

    .pin-wrap-sticky {
      /* Stick to Top */
      height: 100vh;
      width: 100vw;
      position: sticky;
      top: 0;

      width: 100vw;
      overflow-x: hidden;
    }

    .pin-wrap {
      height: 100vh;
      width: 250vmax;

      display: flex;
      justify-content: flex-start;
      align-items: center;
      padding: 50px 10vw;

      /* Hook animation */
      will-change: transform;
      animation: linear move forwards;

      /* Link animation to view-timeline */
      animation-timeline: --section-pin-tl;
      animation-range: contain 0% contain 100%;

      > * {
        min-width: 60vmax;
        padding: 0 5vmax;
      }

      > .slide {
        width: 100;
        padding: 1rem;
      }
    }
  // }
  </style>